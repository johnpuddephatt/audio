!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Audio=e():t.Audio=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){t.exports=n(13)},function(t,e){function n(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)}))}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="24px" height="24px"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1 12.667V8a7 7 0 1114 0v4.667"></path><path d="M15 13.444c0 .86-.696 1.556-1.556 1.556h-.777c-.86 0-1.556-.696-1.556-1.556v-2.333c0-.859.697-1.555 1.556-1.555H15v3.888zm-14 0C1 14.304 1.696 15 2.556 15h.777c.86 0 1.556-.696 1.556-1.556v-2.333c0-.859-.697-1.555-1.556-1.555H1v3.888z"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="15"><path d="M1 1h3.25v13H1zm6.5 0h3.25v13H7.5z" fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="15"><path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M1 1l10.111 6.5L1 14z"></path></svg>'},function(t,e,n){var r=n(14),o=n(15),i=n(16),a=n(18);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()}},function(t,e,n){var r=n(10),o=n(11);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function c(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],s=n[u]||0,l="".concat(u," ").concat(s);n[u]=s+1;var d=c(l),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:y(f,e),references:1}),r.push(l)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,v=0;function y(t,e){var n,r,o;if(e.singleton){var i=v++;n=h||(h=s(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=c(n[r]);a[o].references--}for(var i=u(t,e),s=0;s<n.length;s++){var l=c(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){(e=n(12)(!1)).push([t.i,"/* common color and font classes */\n.dark-color {\n  color: #1d202b;\n}\n\n/* main block styles */\n#main-block {\n  box-sizing: border-box;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  letter-spacing: normal;\n  line-height: 1.99;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  border-radius: 5px;\n}\n\n/* audio uploader styles */\n#audio-form {\n  width: 100%;\n  height: 44px;\n  display: flex;\n}\n\n#audio-uploader-label {\n  width: 100%;\n  text-align: left;\n  border-radius: 8px;\n  box-shadow: 0 2px 2px 0 rgba(18, 30, 57, 0.04);\n  border: solid 1px #e6e9eb;\n  background-color: #ffffff;\n  padding: 8px 20px;\n}\n\n#headphones-icon {\n  width: 14px;\n  height: 14px;\n  object-fit: contain;\n  margin-right: 10px;\n}\n\n#audio-label-text {\n  font-size: 14px;\n}\n\n/* audio block styles */\n#audio-block {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  background-image: linear-gradient(to bottom, #f7fafc, #f5f7fb);\n  width: 100%;\n  padding: 40px 0;\n  border: 1px solid rgba(0, 0, 0, 0.04);\n  border-radius: 5px;\n}\n\n#bg-image {\n  position: absolute;\n  top: 6.4px;\n  bottom: 6.4px;\n  width: 100%;\n  height: calc(100% - 12.8px);\n  object-fit: cover;\n  z-index: -1;\n  filter: opacity(25%) blur(5px);\n  border-radius: 5px;\n}\n\n/* audio metadata styles */\n#audio-metadata {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 0;\n}\n\n#audio-file-name {\n  font-family: SFProText;\n  font-size: 20px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: -0.5px;\n  text-align: center;\n  background-color: transparent;\n  border: none;\n  width: 400px;\n}\n\n#audio-author {\n  margin-top: 10px;\n  font-size: 16px;\n  font-family: SFProText;\n  font-size: 16px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: -0.4px;\n  width: 100%;\n  text-align: center;\n  background-color: transparent;\n  border: none;\n}\n\n#audio-author:focus, #audio-file-name:focus {\n  outline: none !important;\n}\n\n/* audio controller styles */\n#audio-play-btn, #audio-pause-btn {\n  padding: 10px 16px;\n  font-size: 16px;\n  border-radius: 8px;\n  box-shadow: 0 3px 8px -2px rgba(18, 30, 57, 0.14);\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 20px;\n}\n\n#play-btn-icon, #pause-btn-icon {\n  position: relative;\n  top: 2.3px;\n  object-fit: cover;\n  margin-right: 8px;\n}\n\n#play-btn-text, #pause-btn-text {\n  font-size: 16px;\n  letter-spacing: -0.4px;\n}",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,c,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=b(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function d(){}function f(){}function p(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&n.call(y,o)&&(h=y);var m=p.prototype=d.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=m.constructor=p,p.constructor=f,f.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(x.prototype),x.prototype[i]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return E}));var r=n(2),o=n.n(r),i=n(3),a=n.n(i),c=(n(9),n(4)),u=n.n(c),s=n(0),l=n.n(s),d=n(1),f=n.n(d),p=n(5),h=n.n(p),v=n(6),y=n.n(v),m=n(7),g=n.n(m),x=n(8),b=n.n(x),w=function(){function t(e){var n=e.config;o()(this,t),this.config=n,this.errorResponse={success:0,url:null}}var e,n,r,i,c;return a()(t,[{key:"uploadAudio",value:(c=f()(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.audioEndpoint){t.next=6;break}return t.next=3,this.uploadAudioToEndpoint(e);case 3:n=t.sent,t.next=10;break;case 6:if(!this.config.audioUploader){t.next=10;break}return t.next=9,this.uploadAudioUsingUploader(e);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"uploadAudioToEndpoint",value:(i=f()(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uploadToEndpoint(e,this.config.audioEndpoint,this.config.additionalHeaders,this.config.additionalData);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"uploadAudioUsingUploader",value:(r=f()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.uploadUsingUploader(e,this.config.audioUploader));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"uploadToEndpoint",value:(n=f()(l.a.mark((function t(e,n,r,o){var i,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(i=new FormData).append("file",e),Object.entries(o).forEach((function(t){var e=b()(t,2),n=e[0],r=e[1];i[n]=r})),t.next=6,fetch(n,{method:"POST",headers:Object.assign({contentType:""},r),body:i});case 6:return a=t.sent,t.next=9,a.json();case 9:return c=t.sent,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",this.errorResponse);case 17:case"end":return t.stop()}}),t,this,[[0,13]])}))),function(t,e,r,o){return n.apply(this,arguments)})},{key:"uploadUsingUploader",value:(e=f()(l.a.mark((function t(e,n){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(e);case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",this.errorResponse);case 14:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(t,n){return e.apply(this,arguments)})}]),t}(),k=function(){function t(e){var n=e.config;o()(this,t),this.config=n,this.uploader=new w({config:n})}var e;return a()(t,[{key:"render",value:function(){return this.createMainBlock()}},{key:"createMainBlock",value:function(){var t=document.createElement("div");t.id="main-block",t.classList.add("cdx-block");var e=this.createAudioUploadForm();return t.appendChild(e),t}},{key:"createAudioUploadForm",value:function(){var t=document.createElement("form");t.id="audio-form",t.enctype="multipart/form-data";var e=document.createElement("input");e.id="audio-input",e.name="audio",e.type="file",e.accept="audio/*",e.style.display="none";var n=document.createElement("label");n.classList.add("cdx-button"),n.id="audio-uploader-label",n.htmlFor="audio-input";var r=document.createElement("span");r.id="headphones-icon",r.innerHTML=h.a;var o=document.createElement("span");o.id="audio-label-text",o.classList.add("dark-color"),o.textContent="Upload Audio",n.appendChild(r),n.appendChild(o);var i=this;return e.addEventListener("change",f()(l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.files||!this.files[0]){t.next=15;break}return(e=document.getElementById("main-block")).innerHTML="",t.next=6,i.uploader.uploadAudio(this.files[0]);case 6:if(!(n=t.sent)||1!=n.success){t.next=14;break}return t.next=10,i.createAudioBlock(n.file.url);case 10:r=t.sent,e.appendChild(r),t.next=15;break;case 14:throw new Error("Error uploading audio file");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})))),t.appendChild(e),t.appendChild(n),t}},{key:"createAudioBlock",value:(e=f()(l.a.mark((function t(e){var n,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.blob();case 5:return r=t.sent,(o=document.createElement("div")).id="audio-block",i=this.createAudioController(r),o.appendChild(i),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"createAudioController",value:function(t){var e=document.createElement("div");e.id="audio-controller";var n=document.createElement("button");n.id="audio-play-btn",n.classList.add("dark-color"),n.classList.add("cdx-button");var r=document.createElement("span");r.id="play-btn-icon",r.innerHTML=g.a;var o=document.createElement("span");o.id="play-btn-text",o.textContent="Play",n.appendChild(r),n.appendChild(o);var i=document.createElement("button");i.id="audio-pause-btn",i.classList.add("dark-color"),i.classList.add("cdx-button"),i.style.display="none";var a=document.createElement("span");a.id="pause-btn-icon",a.innerHTML=y.a;var c=document.createElement("span");c.id="pause-btn-text",c.textContent="Pause",i.appendChild(a),i.appendChild(c),e.appendChild(n),e.appendChild(i);var u,s=new FileReader;return s.onload=function(t){u=new Audio(t.target.result)},s.readAsDataURL(t),n.addEventListener("click",(function(){this.style.display="none",i.style.display="initial",u.play()})),i.addEventListener("click",(function(){this.style.display="none",n.style.display="initial",u.pause()})),e}}]),t}(),E=function(){function t(e){var n=e.data,r=e.config;o()(this,t),this.data=n,this.config={additionalData:r.additionalData||{},additionalHeaders:r.additionalHeaders||{},audioEndpoint:r.audioEndpoint||void 0,audioUploader:r.audioUploader||void 0},this.ui=new k({config:this.config}),this.block=this.ui.render(),this.audioURL="test"}return a()(t,[{key:"render",value:function(){try{return this.block}catch(t){console.log(t)}}},{key:"save",value:function(t){return{name:t.querySelector("#audio-file-name").value+t.querySelector("#audio-extension-type").innerText,author:t.querySelector("#audio-author").value,audioURL:this.audioURL}}}],[{key:"toolbox",get:function(){return{icon:u.a,title:"Audio"}}}]),t}()}]).default}));